{% extends 'base.html' %} {% block content %}

<form method="POST" action="{% url 'reset_password' %}">
  {% csrf_token %}
  <div class="form-group">
    <label for="new_password">New Password</label>
    <input type="password" class="form-control" id="new_password" name="new_password" required>
  </div>
  <div class="form-group">
    <label for="confirm_password">Confirm Password</label>
    <input type="password" class="form-control" id="confirm_password" name="confirm_password" required>
  </div>
  {% if error %}
    <p class="text-danger">{{ error }}</p>
  {% endif %}
  <button type="submit" class="btn btn-primary">Reset Password</button>
</form>

{% endblock %}

{% block script %}
  <script>
    const form = document.querySelector('form');
    const newPassword = document.querySelector('#new_password');
    const confirmPassword = document.querySelector('#confirm_password');

    form.addEventListener('submit', (event) => {
      if (newPassword.value !== confirmPassword.value) {
        event.preventDefault();
        const error = document.querySelector('.text-danger');
        error.textContent = 'New password and confirm password do not match.';
      }
    });
  </script>
{% endblock %}
